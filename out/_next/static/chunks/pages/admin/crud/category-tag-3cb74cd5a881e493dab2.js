_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{Hde0:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),c=n("5Yp1"),o=n("vC6e"),a=n("rePB"),s=n("q1tI"),i=n.n(s),u=(n("YFqc"),n("nOHt"),n("iuBY")),l=n("abxw");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){var e=Object(s.useState)({name:"",error:"",success:!1,categories:[],removed:!1,reload:!1}),t=e[0],n=e[1],c=function(e){e.preventDefault(),Object(l.a)({name:a},p).then((function(e){e.error?n(j(j({},t),{},{error:e.error,success:!1})):n(j(j({},t),{},{error:!1,success:!0,name:"",removed:m,reload:!O}))}))},o=function(e){n(j(j({},t),{},{name:e.target.value,error:!1,success:!1,removed:""}))},a=t.name,d=t.error,f=t.success,b=t.categories,m=t.removed,O=t.reload,p=Object(u.c)("token");Object(s.useEffect)((function(){h()}),[O]);var h=function(){Object(l.b)().then((function(e){e.error?console.log(e.error):n(j(j({},t),{},{categories:e}))}))},g=function(e){Object(l.c)(e,p).then((function(e){e.error?console.log(e.error):n(j(j({},t),{},{error:!1,success:!1,name:"",removed:!m,reload:!O}))}))};return Object(r.jsxs)(i.a.Fragment,{children:[function(){if(f)return Object(r.jsx)("p",{className:"text-success",children:"Category is created"})}(),function(){if(d)return Object(r.jsx)("p",{className:"text-danger",children:"Category already exist"})}(),function(){if(m)return Object(r.jsx)("p",{className:"text-danger",children:"Category is removed"})}(),Object(r.jsxs)("div",{onMouseMove:function(){n(j(j({},t),{},{error:!1,success:!1,removed:""}))},children:[Object(r.jsx)(i.a.Fragment,{children:Object(r.jsxs)("form",{onSubmit:c,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{className:"text-muted",children:"Name"}),Object(r.jsx)("input",{type:"text",className:"form-control",onChange:o,value:a,required:!0,placeholder:"Enter Category name"})]}),Object(r.jsx)("button",{className:"btn btn-primary mt-4 mb-4",type:"submit",children:"Create Category"})]})}),b.map((function(e,t){return Object(r.jsx)("button",{onDoubleClick:function(){return t=e.slug,void(window.confirm("Are you sure you want to delete this category?")&&g(t));var t},title:"Double click to delete",className:"btn btn-outline-primary mx-1 mt-3",children:e.name},t)}))]})]})},b=n("SMr6");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){var e=Object(s.useState)({name:"",error:"",success:!1,tags:[],removed:!1,reload:!1}),t=e[0],n=e[1],c=function(e){e.preventDefault(),Object(b.a)({name:a},p).then((function(e){e.error?n(O(O({},t),{},{error:e.error,success:!1})):n(O(O({},t),{},{error:!1,success:!0,name:"",removed:f,reload:!m}))}))},o=function(e){n(O(O({},t),{},{name:e.target.value,error:!1,success:!1,removed:""}))},a=t.name,l=t.error,d=t.success,j=t.tags,f=t.removed,m=t.reload,p=Object(u.c)("token");Object(s.useEffect)((function(){h()}),[m]);var h=function(){Object(b.b)().then((function(e){e.error?console.log(e.error):n(O(O({},t),{},{tags:e}))}))},g=function(e){Object(b.c)(e,p).then((function(e){e.error?console.log(e.error):n(O(O({},t),{},{error:!1,success:!1,name:"",removed:!f,reload:!m}))}))};return Object(r.jsxs)(i.a.Fragment,{children:[function(){if(d)return Object(r.jsx)("p",{className:"text-success",children:"Tag is created"})}(),function(){if(l)return Object(r.jsx)("p",{className:"text-danger",children:"Tag already exist"})}(),function(){if(f)return Object(r.jsx)("p",{className:"text-danger",children:"Tag is removed"})}(),Object(r.jsxs)("div",{onMouseMove:function(){n(O(O({},t),{},{error:!1,success:!1,removed:""}))},children:[Object(r.jsx)(i.a.Fragment,{children:Object(r.jsxs)("form",{onSubmit:c,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{className:"text-muted",children:"Name"}),Object(r.jsx)("input",{type:"text",className:"form-control",onChange:o,value:a,required:!0,placeholder:"Enter Tag name"})]}),Object(r.jsx)("button",{className:"btn btn-primary mt-4 mb-4",type:"submit",children:"Create Tag"})]})}),j.map((function(e,t){return Object(r.jsx)("button",{onDoubleClick:function(){return t=e.slug,void(window.confirm("Are you sure you want to delete this tag?")&&g(t));var t},title:"Double click to delete",className:"btn btn-outline-primary mx-1 mt-3",children:e.name},t)}))]})]})};t.default=function(){return Object(r.jsx)(c.a,{children:Object(r.jsx)(o.a,{children:Object(r.jsxs)("div",{className:"container-fluid",children:[Object(r.jsx)("h1",{className:"pt-5 pb-5",children:"Manage Categories and Tags"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsx)(f,{})}),Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsx)(p,{})})]})]})})})}},SMr6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("LpSC"),c=n.n(r),o=n("obyI"),a=n("iuBY"),s=function(e,t){return c()("".concat(o.a,"/tag"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(a.d)(e),e.json()})).catch((function(e){return console.log(e)}))},i=function(){return c()("".concat(o.a,"/tags"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return c()("".concat(o.a,"/tag/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return c()("".concat(o.a,"/tag/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return Object(a.d)(e),e.json()})).catch((function(e){return console.log(e)}))}},abxw:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("LpSC"),c=n.n(r),o=n("obyI"),a=n("iuBY"),s=function(e,t){return c()("".concat(o.a,"/category"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(a.d)(e),e.json()})).catch((function(e){return console.log(e)}))},i=function(){return c()("".concat(o.a,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return c()("".concat(o.a,"/category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return c()("".concat(o.a,"/category/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return Object(a.d)(e),e.json()})).catch((function(e){return console.log(e)}))}},nxd4:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/crud/category-tag",function(){return n("Hde0")}])},vC6e:function(e,t,n){"use strict";var r=n("nKUr"),c=n("q1tI"),o=n.n(c),a=n("nOHt"),s=n.n(a),i=n("iuBY");t.a=function(e){var t=e.children;return Object(c.useEffect)((function(){Object(i.e)()?"admin"!==Object(i.e)().role&&s.a.push("/"):s.a.push("/signin")}),[]),Object(r.jsx)(o.a.Fragment,{children:t})}}},[["nxd4",2,0,1,3,4,5]]]);